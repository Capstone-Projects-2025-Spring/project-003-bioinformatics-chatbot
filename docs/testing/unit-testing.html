<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-testing/unit-testing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Unit tests | BioGenie</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Capstone-Projects-2025-Spring.github.io/project-003-bioinformatics-chatbot/docs/testing/unit-testing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Unit tests | BioGenie"><meta data-rh="true" name="description" content="1. Install and Open Docker Desktop and Vscode"><meta data-rh="true" property="og:description" content="1. Install and Open Docker Desktop and Vscode"><link data-rh="true" rel="icon" href="/project-003-bioinformatics-chatbot/img/BioGenie.svg"><link data-rh="true" rel="canonical" href="https://Capstone-Projects-2025-Spring.github.io/project-003-bioinformatics-chatbot/docs/testing/unit-testing"><link data-rh="true" rel="alternate" href="https://Capstone-Projects-2025-Spring.github.io/project-003-bioinformatics-chatbot/docs/testing/unit-testing" hreflang="en"><link data-rh="true" rel="alternate" href="https://Capstone-Projects-2025-Spring.github.io/project-003-bioinformatics-chatbot/docs/testing/unit-testing" hreflang="x-default"><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><link rel="stylesheet" href="/project-003-bioinformatics-chatbot/assets/css/styles.8c7eebe5.css">
<script src="/project-003-bioinformatics-chatbot/assets/js/runtime~main.c33e90d0.js" defer="defer"></script>
<script src="/project-003-bioinformatics-chatbot/assets/js/main.a0459dee.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/project-003-bioinformatics-chatbot/"><div class="navbar__logo"><img src="https://raw.githubusercontent.com/Capstone-Projects-2025-Spring/project-003-bioinformatics-chatbot/e631e760afa8739c8c61edf0687d2edffcf8e8b2/frontend/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://raw.githubusercontent.com/Capstone-Projects-2025-Spring/project-003-bioinformatics-chatbot/e631e760afa8739c8c61edf0687d2edffcf8e8b2/frontend/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">BioGenie</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/project-003-bioinformatics-chatbot/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Capstone-Projects-2025-Spring/project-003-bioinformatics-chatbot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/project-003-bioinformatics-chatbot/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/project-003-bioinformatics-chatbot/docs/category/requirements-specification">Requirements Specification</a><button aria-label="Expand sidebar category &#x27;Requirements Specification&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/project-003-bioinformatics-chatbot/docs/category/system-architecture">System Architecture</a><button aria-label="Expand sidebar category &#x27;System Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/project-003-bioinformatics-chatbot/docs/category/api-specification">API Specification</a><button aria-label="Expand sidebar category &#x27;API Specification&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/project-003-bioinformatics-chatbot/docs/category/test-procedures">Test Procedures</a><button aria-label="Collapse sidebar category &#x27;Test Procedures&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/project-003-bioinformatics-chatbot/docs/testing/unit-testing">Unit tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project-003-bioinformatics-chatbot/docs/testing/integration-testing">Integration tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project-003-bioinformatics-chatbot/docs/testing/acceptence-testing">Acceptance test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project-003-bioinformatics-chatbot/docs/testing/coverage-reports">Coverage Reports</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/project-003-bioinformatics-chatbot/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/project-003-bioinformatics-chatbot/docs/category/test-procedures"><span itemprop="name">Test Procedures</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Unit tests</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Unit tests</h1>
<h1>Testing Setup</h1>
<ol>
<li>Install and Open Docker Desktop and Vscode</li>
<li>Download and unzip the source code in the most recent project release <a href="https://github.com/Capstone-Projects-2025-Spring/project-003-bioinformatics-chatbot/releases" target="_blank" rel="noopener noreferrer">here</a></li>
<li>In Vscode open the project file, in the backend folder create .env file and database.env</li>
<li>In the .env file put this<br>
DATABASE_URI=postgresql+psycopg://admin<!-- -->:admin<!-- -->@database:5432/database
TEST_DATABASE_URI=postgresql+psycopg://admin<!-- -->:admin<!-- -->@test-database:5432/database</li>
<li>In the database.env put this<br>
#database variables<br>
POSTGRES_USER=admin<br>
POSTGRES_PASSWORD=admin<br>
POSTGRES_DB=database<br>
POSTGRES_HOST_AUTH_METHOD=trust</li>
<li>If on Windows, update docker-entrypoint.sh in backend, and docker-compose.yml, to LF format from CRLF format in Vscode by hiting ctrl+shift+p and clicking on &quot;Change End of Line Sequence&quot; and LF. Then save the files.</li>
<li>In vscode open the terminal and <code>cd project-003-bioinformatics-chatbot-1.0.0</code></li>
<li>Run this commands in the terminal one at a time, it may take a while to build due to LLM.</li>
</ol>
<ul>
<li>docker compose -f docker-compose.yml build</li>
<li>docker compose -f docker-compose.yml up</li>
</ul>
<ol start="9">
<li>
<p>Go to Docker Desktop for testing and follow the instrutions for each section listed below</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="backend">Backend<a href="#backend" class="hash-link" aria-label="Direct link to Backend" title="Direct link to Backend">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="library">Library<a href="#library" class="hash-link" aria-label="Direct link to Library" title="Direct link to Library">​</a></h3>
<p>Pytest was chosen for backend testing due to its seamless integration with
Flask. For test coverage we are using Coverage.py in order to monitor pytest execution
and get insights regarding untested code paths. Each function and route will be tested
via pytest on the backend, including unit tests for individual functions.</p>
<p>To run tests, <br>
In Docker Desktop, open the backend container and go to exec tab and type this</p>
<p><code>python -m pytest -vv</code>
<img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/6827a63a-9ec0-44ab-8817-40c8e6921767" alt="image" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="frontend">Frontend<a href="#frontend" class="hash-link" aria-label="Direct link to Frontend" title="Direct link to Frontend">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="library-1">Library<a href="#library-1" class="hash-link" aria-label="Direct link to Library" title="Direct link to Library">​</a></h3>
<p>We are using Vitest for frontend testing in React. Vitest was chosen due to its fast execution,
built-in support for React-Vite projects, and strong compatibility with component testing libraries.
Each component will have tests associated with it, thereby allowing us to test funtctional and UI aspects
of each component.</p>
<p>To run tests <br>
In Docker Desktop, open the frontend container and go to exec tab and type this<br>
<code>npm run test</code>
<img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/1f756f23-b9da-4cde-8c8a-e2f267b0908d" alt="image" class="img_ev3q"></p>
<p>Katerina: for my tests I selected pytest because it works with Flask’s built
in test client to simulate HTTP requests, and this was necessary for multiple
backend tests that I conducted. For instance, the test_chat_message_valid(client)
test verifies that the /chat route correctly handles requests. Additionally,
pytest also enabled me to conduct error handling. In test_chat_message_missing(client),
I test for a 400 bad request error when no message is provided, ensuring the API properly
handles invalid input. Additionally, I used pytest with the libraries io
and werkzeug to simulate uploading a pdf file in test_upload_pdf_valid(client, app).</p>
<p>Justin: For my testings, I chose pytest because how it easily and efficiently test variables
and support HTTP requests testing. For the testing of my parse_pdf, the test case test_parse_pdf(pdf)
accepts a PDF file, parses it into chunks, and store in a list. Test_parse_pdf is expected to return
a list containing the parsed chunks. Futhermore, I use pytest to test the intergration of uploading,
parsing, and indexing. The test case test_integration(client, app) is testing for 400 bad request error after
invaild request is made. The test case test_integration(client, app) also verifies that a valid request
successfully completes the entire workflow—uploading, parsing, and indexing—and returns a 200 OK status code.</p>
<p>Keith: For my testing, I chose Vitest because of its seamless integration with testing libraries and its speed. My test&#x27;s focus was to make sure that the Chat History&#x27;s download button behaved properly under three different conditions. Those three conditions were that an error message arises when there are zero messages, allowing the user to download the conversation when there is at least one message, and the proper file format (.txt, .doc, or .pdf) is being downloaded. My testing was done under download.test.jsx, which is located in the tests folder in the frontend directory. All tests first simulate the user clicking the download button which allows them to select the file format. The first three tests verify that when the user clicks on the three different file formats, an error message arises since no conversation has been started. The next three tests verify that if there is at least one conversation started, then the chat history is downloaded with the correct file format.</p>
<p>Troy: Backend tests I have written consist of testing functionality for the User model for the database and sqlalchemy,
testing the testing configuration and client, testing the function to return the score for langchain with pg vector.
We have chosed pytest for the backend due to it being the defacto standard for flask testing due to its easily integration
of clients and mocking. Frontend tests I have written/ modified consist of the chat response testing, this was modified
for to ensure that upon submit the &quot;spinner&quot; is shown on the screen and is gone upon response or error.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Capstone-Projects-2025-Spring/project-003-bioinformatics-chatbot/edit/main/documentation/docs/testing/unit-testing.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><details><summary>Revision History</summary><table><thead><tr><th scope="row">Author</th><th scope="row">Revision</th><th scope="row">Date</th></tr></thead><tbody>nothing</tbody></table></details><span class="theme-last-updated">Last updated<!-- --> by <b>Ishmam Kabir</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/project-003-bioinformatics-chatbot/docs/category/test-procedures"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Test Procedures</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/project-003-bioinformatics-chatbot/docs/testing/integration-testing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Integration tests</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#backend" class="table-of-contents__link toc-highlight">Backend</a><ul><li><a href="#library" class="table-of-contents__link toc-highlight">Library</a></li></ul></li><li><a href="#frontend" class="table-of-contents__link toc-highlight">Frontend</a><ul><li><a href="#library-1" class="table-of-contents__link toc-highlight">Library</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/project-003-bioinformatics-chatbot/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Capstone-Projects-2025-Spring/project-003-bioinformatics-chatbot" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="https://raw.githubusercontent.com/Capstone-Projects-2025-Spring/project-003-bioinformatics-chatbot/e631e760afa8739c8c61edf0687d2edffcf8e8b2/frontend/logo.svg" alt="My Site Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" style="width:50px;height:auto"><img src="https://raw.githubusercontent.com/Capstone-Projects-2025-Spring/project-003-bioinformatics-chatbot/e631e760afa8739c8c61edf0687d2edffcf8e8b2/frontend/logo.svg" alt="My Site Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" style="width:50px;height:auto"></div><div class="footer__copyright">Copyright © 2025 BioGenie, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>